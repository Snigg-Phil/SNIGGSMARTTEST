[![Snigg eMobility GmbH logo](/images/cfos-emobility-logo.svg) ![Snigg eMobility GmbH logo](/images/cfos-emobility-logo.svg)](/en/index.htm)

* [Snigg eMobility](#)

  [About Snigg eMobility](/en/contact/mission-statement.htm) [Our partners](/en/cfos-wallbox/installation-partners.htm) [Reference systems](/en/contact/references.htm) [News](https://shop.cfos-emobility.de/blogs/news)
* [Online Shop](#)

  [Online Shop](https://shop.cfos-emobility.de/) ["It's worth spreading the word"](https://shop.cfos-emobility.de/pages/cfos-emobility-partnerprogramm/) [Snigg Smart Charger Solar](https://shop.cfos-emobility.de/collections/wallbox-solar) [Snigg Smart Charger Booster](https://shop.cfos-emobility.de/products/cfos-wallbox-booster) [Snigg Smart Controller](https://shop.cfos-emobility.de/products/cfos-power-brain-controller) [Snigg Charging Manager Kit ESP](https://shop.cfos-emobility.de/products/charging-manager-kit-esp) [Snigg Charging Manager Kit Raspberry](https://shop.cfos-emobility.de/products/charging-manager-kit) [Ladepunkt-Lizenz](https://shop.cfos-emobility.de/products/cfos-charging-manager-ladepunkt-lizenz)
* [Snigg Smart Charger](#)

  [Snigg Smart Charger](/en/cfos-wallbox/cfos-wallbox.htm) [Modbus and S0 meter](/en/cfos-power-brain/modbus-meter-s0-meter.htm) [Commissioning](/en/cfos-wallbox/inbetriebnahme/index.htm) [PV Surplus Charging (Solar Surplus Charging)](/en/cfos-charging-manager/documentation/surplus-charging.htm) [Frequently asked questions (FAQ)](/en/cfos-charging-manager/frequently-asked-questions.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm) [What is new?](/en/cfos-power-brain/whats-new.htm)
* [Snigg Smart Charger Booster](#)

  [Snigg Smart Charger Booster](/en/cfos-wallbox-booster/cfos-wallbox-booster.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm)
* [Snigg Charging Manager](#)

  [Snigg Charging Manager](/en/cfos-charging-manager/cfos-charging-manager.htm) [Free trial version](/en/cfos-charging-manager/download.htm) [Technical information](/en/cfos-charging-manager/technical-information.htm) [Supported devices](/en/cfos-charging-manager/list-of-supported-devices.htm) [Price list](/en/cfos-charging-manager/price-list.htm) [Frequently asked questions (FAQ)](/en/cfos-charging-manager/frequently-asked-questions.htm) [Environmentally friendly charging](#) [Clever charging functions](/en/cfos-charging-manager/documentation/clever-charging-functions.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm) [What is new?](/en/cfos-charging-manager/whats-new.htm)
* [Snigg Smart Controller](#)

  [Snigg Smart Controller](/en/cfos-power-brain/cfos-power-brain.htm) [Modbus Registers](/en/cfos-power-brain/modbus-registers.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm)
* [Service](#)

  [Commissioning](/en/cfos-wallbox/inbetriebnahme/index.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm) [Frequently asked questions (FAQ)](/en/cfos-charging-manager/frequently-asked-questions.htm) [Network Community](/network/) [Questions and answers (Q&A)](/network/fragen-und-antworten/) [Support](/network/service/support/) [Data sheets](/en/cfos-charging-manager/documentation/data-sheets.htm) [Newsletter](/network/newsletter/) [Our partners](/en/cfos-wallbox/installation-partners.htm) [Our installation partners](/en/cfos-wallbox/installation-partners.htm) [Reference systems](/en/contact/references.htm) [Contact](#)

Documentation
=============

#### Snigg Smart Charger - First steps

[Snigg Smart Charger - Commissioning](/en/cfos-wallbox/inbetriebnahme/index.htm)  
 [Snigg Smart Charger - Quick guide (PDF)](/files/ng-kurzanleitung-web.pdf)  
 [Snigg Smart Charger Solar - Quick guide (PDF)](/files/ng-solar-kurzanleitung-web.pdf)  
 [Snigg Smart Charger Plug-In - Quick Guide (PDF)](/files/ng-p-kurzanleitung-de-web.pdf)  
 [Snigg Smart Charger Booster - Quick guide (PDF)](/files/cfos-wallbox-booster-kurzanleitung-web.pdf)  
 [Data sheets](/en/cfos-charging-manager/documentation/data-sheets.htm)  
 [Safe operation](/en/cfos-charging-manager/documentation/safe-operation.htm)  
 [Active power control by the distribution grid operator (Â§14a EnWG)](/en/cfos-charging-manager/documentation/active-power-control.htm)  
 [Environmentally conscious charging](/en/cfos-charging-manager/documentation/grundlagen-umweltbewusstes-laden.htm)  
 [![Bild Flagge UK/US](/images/flag_en.png) What's new in the latest firmware version of the Snigg Smart Charger?](/en/cfos-power-brain/whats-new.htm)

#### Snigg Charging Manager - Configuration and energy management

[Home page](/en/cfos-charging-manager/documentation/start-page.htm)  
 [Configuration](/en/cfos-charging-manager/documentation/configuration.htm)  
 [System configuration](/en/cfos-charging-manager/documentation/system-configuration.htm)  
 [Charging rules e-car](/en/cfos-charging-manager/documentation/charging-rules.htm)  
 [Charging rules for battery storage](/en/cfos-charging-manager/documentation/battery-rules.htm)  
 [Heat pumps](/en/cfos-charging-manager/documentation/heat-pumps.htm)  
 [Simulation](/en/cfos-charging-manager/documentation/charging-groups.htm#simulation)  
 [Bidirectional charging](/en/cfos-charging-manager/documentation/grundlagen-bidirektionales-laden.htm)  
 [Remedy memory shortage in the Snigg Smart Controller](/en/cfos-charging-manager/documentation/out-of-memory.htm)

#### Charging with solar power - PV surplus

[PV surplus charging (solar surplus charging)](/en/cfos-charging-manager/documentation/grundlagen-solares-ueberschussladen.htm)  
 [Phase switching between 1-phase and 3-phase charging](/en/cfos-charging-manager/documentation/phase-switching.htm)  
 [Automatic phase changeover](/en/cfos-charging-manager/documentation/automatic-phase-switching.htm)  
 [Surplus shop](/en/cfos-charging-manager/documentation/surplus-charging.htm)  
 [Solar surplus loading instructions](https://www.snigg.be/network/service/anleitungen/solares-ueberschussladen-mit-dem-cfos-charging-manager/)  
 [Instructions for some wallboxes, meters and inverters](/en/cfos-charging-manager/documentation/wallbox-instructions.htm)  
 [Example: Setting up a charging park and solar surplus with the help of a Raspberry Pi](/en/cfos-charging-manager/documentation/raspberry-pi-charging-park.htm)  
 [Test for yourself whether the Snigg Charging Manager is compatible with your inverter.](/en/cfos-charging-manager/documentation/meter-test.htm)

#### Record measured values and optimise consumption

[Dashboard and utilisation graphs](/en/cfos-charging-manager/documentation/usage-graphs.htm)  
 [User administration](/en/cfos-charging-manager/documentation/users.htm)  
 [RFID and PIN functions](/en/cfos-charging-manager/documentation/rfid-functions.htm)  
 [Instructions: Create user](https://www.snigg.be/network/service/anleitungen/einen-benutzer-anlegen-und-diesem-eine-rfid-karte-zuweisen/)  
 [Billing and use of calibrated meters](/en/cfos-charging-manager/documentation/billing-and-use-of-calibrated-meters.htm)  
 [Charging with kWh budgets](/en/cfos-charging-manager/documentation/budgets.htm)  
 [Price-controlled charging](/en/cfos-charging-manager/documentation/price-controlled-charging.htm)  
 [![Bild Deutsche Flagge](/images/flag_de.png) Environmentally friendly charging](/de/cfos-charging-manager/documentation/environmentally-friendly-charging.htm)  
 [User-defined counters](/en/cfos-charging-manager/documentation/user-defined-meters.htm)  
 [Formulas for counters and charging rules](/en/cfos-charging-manager/documentation/formulas.htm)  
 [Counter utilisation options](/en/cfos-charging-manager/documentation/meter-use-cases.htm)  
 [Applications for electricity meters](/en/cfos-charging-manager/documentation/meter-purposes.htm)  
 [COM port counter](/en/cfos-charging-manager/documentation/com-port-meter.htm)  
 [operate Snigg Charging Manager with VolkszÃ¤hler/vzlogger](/en/cfos-charging-manager/documentation/vzlogger.htm)  
 [Optical read heads and SML counters](/en/cfos-charging-manager/documentation/optical-reader-sml.htm)  
 [Virtual measuring points](/en/cfos-charging-manager/documentation/virtual-metering-points.htm)

#### Snigg Charging Manager - Download and installation

[Snigg Charging Manager App - Download and functions](/en/cfos-charging-manager/documentation/app-functions.htm)  
 [Snigg Charging Manager and the Snigg Cloud](/en/cfos-charging-manager/documentation/cloud.htm)  
 [Instructions for installing the Snigg Charging Manager on a Raspberry Pi](/en/cfos-charging-manager/documentation/raspberry-pi-instructions.htm)  
 [![Bild Flagge UK/US](/images/flag_en.png) What's new in the current version of the Snigg Charging Manager?](/en/cfos-charging-manager/whats-new.htm)

#### Snigg Smart Charger in WLAN and connectivity

[Help with WLAN problems](https://www.snigg.be/network/service/anleitungen/was-tun-wenn-ich-mich-mit-dem-wlan-hotspot-der-wallbox-nicht-verbinden-kann/)  
 [Instructions for Modbus cabling (PDF)](/files/modbus-verkabelung.pdf)  
 [Snigg Smart Controller with Modbus meter or S0 meter](/en/cfos-power-brain/modbus-meter-s0-meter.htm)  
 [connect Snigg Smart Controller wallboxes with Mesh](/en/cfos-charging-manager/documentation/mesh.htm)  
 [Installation options / cabling options](/en/cfos-charging-manager/documentation/connecting-multiple-wallboxes.htm)  
 [Operating Raspberry Pi with Huawei LTE stick/router](/en/cfos-charging-manager/documentation/lte-router-stick.htm)  
 [OCPP configuration for Snigg Charging Manager, Snigg Smart Controller and the Snigg Smart Charger](/en/cfos-charging-manager/documentation/ocpp-configuration.htm)  
 [OCCP backend test instructions](https://www.snigg.be/network/service/anleitungen/den-cfos-charging-manager-gegen-ein-ocpp-backend-testen/)  
 [Snigg Charging Manager on the Smart Meter Gateway](/en/cfos-charging-manager/documentation/smart-meter-gateway.htm)

#### Snigg load management

[Dynamic load management](/en/cfos-charging-manager/documentation/grundlagen-dynamisches-lastmanagement.htm)  
 [Snigg Smart Charger in master-slave mode](/en/cfos-wallbox/master-slave-configuration.htm)  
 [Charging groups](/en/cfos-charging-manager/documentation/charging-groups.htm)  
 [Example: Car park for apartment block and condominiums](/en/cfos-charging-manager/documentation/parking-garage-for-apartment-building.htm)  
 [Example: Apartment block with 13 parties and underground car park](/en/cfos-charging-manager/documentation/underground-parking-with-thirteen-residential-units.htm)

#### Configuration examples and instructions

[Configuration examples](/en/cfos-charging-manager/documentation/example-configurations.htm)

#### Snigg Charging Manager, Snigg Smart Controller API

[HTTP API](/en/cfos-power-brain/http-api.htm)  
 [MQTT API](/en/cfos-charging-manager/documentation/mqtt.htm)  
 [Modbus register](/en/cfos-power-brain/modbus-registers.htm)  
 [SunSpec Modbus API](/en/cfos-charging-manager/documentation/sunspec-server.htm)  
 [![Bild Flagge UK/US](/images/flag_en.png) DEM4A operating instructions (PDF)](/files/dem4a-manual.pdf)  
 [Snigg YTL DTS353 operating instructions (PDF)](/files/cfos-ytl-dts353-users-manual.pdf)  
 [Snigg YTL DTS353 Modbus Register (PDF)](/files/cfos-ytl-dts353-modbus-registers.pdf)

User-defined counters
=====================

**Note**: The Snigg Charging Manager can read out most solar inverters using SunSpec (device type "SunSpec Solar Inverter / Meter"). In this case, you do not need to create your own meter definition.

The Snigg Charging Manager allows you to create your own meter definitions to support meters that are not available in the standard repertoire. There are currently three types: Modbus counters, HTTP/JSON counters and MQTT/JSON counters. The definition files for these counters are very similar. Modbus counters read their data from certain registers via Modbus, while HTTP/JSON counters retrieve their data via HTTP request and read in JSON in response. For MQTT/JSON meters, the Snigg Charging Manager subscribes to MQTT topics and reads messages published under the topic as JSON. The Snigg Charging Manager uses a small "Query Language" for reading. Here is the documentation of the [MQTT capabilities in the Snigg Charging Manager](/en/cfos-charging-manager/documentation/mqtt.htm).

In addition to a range of predefined variables, such as current and voltage, user-defined counters can also read in unknown, user-defined variables, query inputs and set outputs. Reading in variables and setting outputs allows formulae to be analysed. In combination with the Charging Manager variables and global Charging Manager outputs described below, this is a powerful feature and even allows certain home automation tasks and the control of external devices such as battery storage units. If you realise control tasks with this, please give us feedback. We are very interested in what our customers control with the Snigg Charging Manager and it helps us to further develop the Charging Manager according to customer needs.

Here is a simple example definition for Modbus that reads a single register for active power. You can easily modify the register number for your specific application:  
 [Example definition for a single register](/files/meter-definitions/meter_power_w_sample.json).

Here is an example definition for Modbus and one for HTTP/JSON:  
 [Download sample definition for Modbus meter](/files/meter-definitions/abb-b23-meter-def.json)  
 [Download sample definition for HTTP/JSON meter](/files/meter-definitions/sample-cfos-meter-def.json)

The Charging Manager already comes with a few such files, but you can upload your own files under "System configuration" and also delete them again.  
Here you will find most of the meter definitions we provide:  
 [Download supplied counter definitions](/files/meter-definitions/meter-definitions.zip)

If you have created your own counter file and it could be relevant for other users, we would be very grateful if you could make it available to us. Then we will deliver it with future versions of the Charging Manager.

 [Download meter definitions for additional meters](/en/cfos-charging-manager/list-of-supported-devices.htm#meter-definitions)  
  

Structure of a definition file:
-------------------------------

Counter definitions are JSON files with a global JSON object that has properties and sub-objects. 'rtype' determines the type of read operation: 0 = Modbus, 1 = HTTP/JSON, 2 = MQTT/JSON. 'mtype' determines the device type: 0 = Other device, 1 = Meter, 2 = Inverter, 4 = Battery storage.  
  
You can specify numbers either in decimal or hex with the prefix '0x'. Single-line comments using '//' are also permitted. We recommend running your definition files through a JSON5 validator, e.g. this [JSON5 validator](https://jsonformatter.org/json5-validator)  
  
You should definitely have read the [Formulas](/en/cfos-charging-manager/documentation/formulas.htm) chapter to understand which values can be used in formulas in the following reference.

### Modbus definitions have an object 'rtu' with the following properties:

**silence\_period**, in msec: Determines the pause length before a Modbus RTU access so that the device recognises the start of a message.  
**silence\_same\_slave**, true: The pause is also maintained for multiple accesses to the same device.  
**retries**: The number of retries if the device does not respond.  
**rcv\_timeout**: in msec: The maximum waiting time until the device responds, per access.

### These global properties apply to Modbus TCP and RTU:

**modbus\_read**: The function number of the Modbus command for reading, usually 3 or 4.  
**modbus\_read\_max\_registers**: The maximum number of registers that can be read at a time.  
**modbus\_allow\_gaps**: true = unused register areas may be read in a read operation.

### For Modbus TCP and HTTP/JSON there is an object 'tcp' with the following properties:

**connect\_timeout**: is msec: The maximum waiting time for a TCP connection.  
**delay\_after\_connect**: in msec: Pause after the connection is established before the first command is sent.

### Both definition types (Modbus and HTTP/JSON) have the following additional properties:

**upd\_delay**: in msec: Determines the interval at which a device can be read. Some devices are overloaded if they are queried too often.  
**manufacturer**: String, name of the manufacturer. This is displayed in the extended information of the tile.  
**delay\_accumulated**: true = Accumulated values (kWh) are only queried every 3 seconds or if there is sufficient power. false = These values are always queried.  
**ui\_addr**: URL, if different from the device address for calling the web interface.  
**reserved**: Array with values that are interpreted as 0 (useful if the device supports certain values depending on the model).  
  
If you omit the properties listed above, the Snigg Charging Manager uses default values, which work well in most cases.  
  
The next step in the JSON definition is the definition of variables that the meter uses to read or calculate values for current, voltage, etc. The Charging Manager recognises the following variables:  
**type\_designation, version, firmware\_version, serial**: These form the model designation, as shown in the extended information of the tile. These are queried once when setting up or resetting the meter.  
**voltage\_l1..voltage\_l3, current\_l1..current\_l3, power\_w, power\_var, power\_va, power\_w\_l1..power\_w\_l3**: The Snigg Charging Manager attempts to calculate from these values for voltage\_l1..l3, signed current\_l1..l3, power\_w and power\_va. You do not have to specify all variables. The Snigg Charging Manager attempts to calculate the values from the existing variables.  
**import\_wh, export\_wh**: The Charging Manager uses these variables to display import\_wh and export\_wh. For unidirectional meters (e.g. inverters), you should only ever define import\_wh. Only for bidirectional meters (such as storage or grid reference meters) should export\_wh be defined.  
  
**soc**: If available, the state of charge of a battery storage is displayed here in % in the tile.  
You can also define other variables with different names, which are read out with each update or calculated using formulas. If you define variables that begin with 'CM.', e.g. CM.\_set\_price, the assigned values are stored in the global Charging Manager variables (see below) and can be queried accordingly.  
**Variables with \***: If you define variables that begin with '\*', these are displayed in the UI in the meter tile under extended information, e.g. the temperature of a battery storage unit.  
**Note**: Only numbers and the letters a-z and A-Z may be used as variable names.

### Definition of a variable:

The object is named after the name of the variable listed above and has the following properties:  
**fixed**: String with a fixed value. Useful if, for example, no value can be determined, e.g. for type\_designation or voltage.  
**expr**: String. The variable is not read out, but evaluated as a formula.  
**type**: If not fixed or expr, the type of the variable: int16, uint16, int32, uint32, float, int64, string. This is important for Modbus in order to read the registers in the correct format. uint16 and uint32 are types that can only accept positive numbers. With JSON/HTTP, you can usually use float.  
**resolution**: float. The read value is multiplied by 'resolution'. Values for voltage must be in volts, currents in milliamperes, power in watts, energy in watt-hours (Wh). With negative 'resolution' you can invert a value if it has the opposite sign.  
**once**: bool (true or false). If true, the value is only read once when the device is initialised, otherwise it is read periodically.  
**address**: number (Modbus) or string (HTTP/JSON). The Modbus register number or the HTTP URL of the value to be read.  
**query**: String. For HTTP JSON, the specification in the query language of the Charging Manager with which it finds the value to be read in the JSON response.  
**order**: String. For Modbus, the byte order, either "hl" or "lh", in which the value is present. **length**: number. For Modbus, the length of a string in registers; for the variables 'version' and 'firmware\_version', 'length' is used to turn numerical versions into strings with dots. Values of 2 or 4 are permitted for 'length', which then result in the version formats a.b, and a.b.c.d. With 'length' 2 and type 'int16' or 'uint16', the Charging Manager separates low and high byte with a dot, with 'int32' or 'uint32' low and high word, with 'int64' low and high dword. For 'lenth' 4 and 'int32' or 'uint32', the Charging Manager splits the value into 4 bytes separated by a dot. For 'int64' the 4 words accordingly.  
**regex**: String. If a regular expression is specified, the counter response does not need to be in JSON. Either the entire match of the regular expression or the first group is evaluated as the result. Please only use if the device does not return JSON. Here is the list of features of our regular expressions:  
**any char**: .  
**named classes**: \d \s \w \D \S \W  
**anonymous classes**: [a-z0-9\_], [^0-9], [^\d]  
**groups with alternatives**: (ab|cd|ef)  
**non-captured groups**: (?:ab|cd)  
**(greedy) once or none**: a?, a???  
**(greedy) many or none**: a\*, a\*?  
**(greedy) once or more**: a+, a+?  
**begin of string**: ^  
**end of string**: $

### Definition of inputs:

The Charging Manager can request up to 32 input values per device from various registers or JSON elements. The "Inputs" property is a JSON array. You must define the following properties for each input:  
**address**: Address (Modbus register or URL).  
**count**: Number of input bits that are read with this request.  
**query**: For HTTP/JSON, query language to find the value in the response.  
  
The Snigg Charging Manager reads all inputs defined in this way with each update and stores the bits internally in an array, which can then be queried in formulae, Input1..InputN.

### Definition of outputs:

The Charging Manager can switch up to 32 outputs per device. Outputs are defined in "outputs" as a JSON array of output objects. All outputs are switched at the end of each update cycle if the status of the respective output has changed.  
You must define the following properties in the output object for each output:  
**address**: HTTP URL with optional HTTP method, e.g. GET http://www.example.com?output1=${var1}. To set Modbus registers, you can use the HTTP API of the Snigg Charging Manager. The Charging Manager recognises suitable accesses on localhost and redirects the request to the internal handler so that you do not need authorisation as with external HTTP API accesses. If the URL is empty after all replacements, no output is set. For example, you can only switch outputs if certain variables exist (see formulas: exists() function). You can also specify ${address} and ${id} in the address. This is the current device address and Modbus ID as defined in the settings. 'address' and 'id' are mainly used for using the Modbus API (see below).  
**body**: Optional HTTP body for POST or PUT.  
In the URL and the body, you can use ${expr} to use formulas that reference global charging manager variables or from the respective counter. The formula 'expr' is evaluated when the output is set and replaced in the text of the URL or the body. If, in the example above, http://www.example.com?output1=1 sets the output and http://www.example.com?output1=0 deletes it, you can define a variable 'var1' and set it to 1 or 0 as required. In this way, you can also write numerical values to control memory performance in Modbus registers, which you have previously stored in a variable using a formula.  
If, instead of passing a numerical value, you need to replace one text in the URL with another depending on the formula, e.g. for Shelly WLAN sockets, you can write this as follows: ${if expr`text1`text2}. The "apostrophe" is a backtick (ASCII code 96). If the 'expr' != 0, text1 is used, otherwise text2. For the Shelly WLAN socket, the URL then looks like this, for example: http://<ip-addr>/relay/0?turn=${if expr`on`off}, i.e. if expr != 0, the Charging Manager then calls http://<ip-addr>/relay/0?turn=on, otherwise http://<ip-addr>/relay/0?turn=off.  
  
If you enter a relative path as the URL, the Charging Manager will use the address configured for the respective device. If you enter 'localhost' as the domain, the Charging Manager takes the address of the device on which it is running. If it recognises access to its own API, it uses the internal handler instead of executing a full HTTP access so that you do not have to enter a user name and password in the counter definition. A URL that begins with an '\*' causes the Charging Manager to always execute a full HTTP access.  
  
Reset outputs: In addition to an "outputs" array, you can also define an array named "resets" that is structured like the "outputs" array. This allows outputs to be reset to their initial values when the device is deactivated. This can be used in combination with user-defined variables and "once": true to reset the device to its initial state.  
Write outputs periodically: For some devices, the outputs must be written periodically, otherwise the device will reset the values to "default". For example, the Kostal memory reverts to its default rules if the memory control has not been actively written for a while. To set outputs periodically, you can prefix the address with #xxx#, where xxx indicates how many seconds the output is rewritten, even if the value to be written has remained the same. For example, if the address is /cnf?cmd=set\_cm\_vars&name=test&val=42, you can use #30#/cnf?cmd=set\_cm\_vars&name=test&val=42 to ensure that this value is written every 30 seconds.

Definition of the Query Language:
---------------------------------

Currently, member names and the operators "." and "[]" can be used in the "query" search expressions, examples:

|  |  |
| --- | --- |
| test | Element named "test" |
| name1.name2 | Element named "name2" in child object "name1" |
| name[idx] | Element "idx" of the object element "name". "idx" can be a number, e.g. for arrays or a string |
| name["u2"] | Element "u2" of the object element "name", corresponds to "name.u2" |
| name[{"el1": "v1", "el2": 3}].value | Select the array element that fulfils the condition of the object notation and evaluate the element named 'value'. Here, for example, in the array 'name', the element is selected that has as object elements 'el1' with value 'v1' and 'el2' with value 3 and then the value of the element 'value' is returned from this object. |

Global Charging Manager variables:
----------------------------------

You can create variables in the Charging Manager configuration. You can use a fixed value or a formula as the value. At the end of each update cycle, the Charging Manager recalculates the value of these variables if necessary. You can then use these in (certain) Charging Manager parameters, charging rules or to control outputs. You can also write **Ex**.member or **Mx**.member as a variable. In this case, **Ex**and **Mx**are the device ID of a wallbox or meter set up in the Charging Manager. 'member' is a "user-defined" variable that is saved in the corresponding device. Some of the variables can have a special meaning: For KEBA, 'out1' is a switching output, for ABB B23 meters, 'out1' and 'out2' are switching outputs (for models that support this). A 1 switches the output, a 0 switches it off again.

If you have appliances that have to be switched on under certain conditions but then run for a while (e.g. washing machine, dishwasher), you can also define the variable as a "trigger". Then the formula of the variable is the condition with which the variable is set to 1. After an adjustable time, it is then set to 0 again. A "retrigger condition" allows the time until switching off (i.e. setting the variable to 0) to be extended again and again as long as the condition is fulfilled.

**Note**: Only numbers and the letters a-z and A-Z may be used as variable names.

For test purposes, you can display charging manager and meter variables, e.g. the current Awattar prices:

![
                        Screenshot display of counter variables
                     ](/images/cfos-charging-manager-variables.png)

Global Charging Manager Outputs:
--------------------------------

In the Charging Manager configuration, you can configure global outputs as described above in the counter definition under 'Outputs'. These are set at the end of each update cycle if their status has changed. If you want to control switching outputs in user-defined devices, the above convention is recommended (see Charging Manager variables): You set variables with the names "out1", "out2", etc. in the user-defined counter and set up outputs in the user-defined counter that switch the output depending on the value of these variables.

Global Modbus API of the Charging Manager:
------------------------------------------

The Modbus API of the Charging Manager is used to control Modbus devices that have any Modbus RTU or TCP address (accessible from the Charging Manager). As in the configuration of the individual devices, enter COMx,bd,8,p,s as the address for Modbus RTU, where x is the COM port number, bd the baud rate, p the parity ('N', 'E' or 'O') and s the number of stop bits (1 or 2). For Modbus TCP, the addresse is the IP address of the device in the Charging Manager network, including the port number.  
The URL (for HTTP GET) of the Modbus API is:  
/cnf?cmd=modbus\_get or /cnf?cmd=modbus\_set  
The Snigg Charging Manager supports the following additional query parameters:  
**addr**: The Modbus RTU or TCP device address mentioned above.  
**func**: Modbus function number, e.g. for reading 3 or 4, for writing 6 or 16.  
**id**: Device ID of the Modbus device.  
**reg**: The Modbus register number. The value can be specified in decimal or hex (with prefix 0x).  
**val**: number: Value to be written to the register. Omit when reading.  
**type**: 'w' 16bit (default), d = 32bit, f = float, q = 64bit, s = string.  
**cnt**: number: The maximum length of the string in registers, omit for other types or set to 1.  
**order**: String: The byte order, either "hl" or "lh".

**Note**: If your 'counter' primarily has control tasks, you can tick the option 'Hide device' in the settings of this tile so that this device does not appear on the start page.

**Note**: Some meters that are read via HTTP require a *user name/password* as authorisation. You can specify this in the address for HTTP access, e.g. with `http://username:password@192.168.2.111.` If your user name or password contains an "@", you must replace it with "%40".

* [Legal notice / Imprint](/en/contact/contact.htm)
* [About Snigg eMobility](/en/contact/mission-statement.htm)
* [Privacy Policy](/en/contact/contact.htm#privacy)
* [Cancellation policy](https://shop.cfos-emobility.de/policies/refund-policy)
* [General Terms and Conditions (GTC)](https://shop.cfos-emobility.de/policies/terms-of-service)

* [Contact](#)
* [Job offers](/en/contact/jobs.htm)
* [Sitemap](/en/sitemap.htm)
* [Snigg eMobility auf Twitter folgen](https://twitter.com/SniggEmobility)
* [Other languages](#)

[Ø§ÙØ¹Ø±Ø¨ÙØ©](/ar/cfos-charging-manager/documentation/user-defined-meters.htm)

[ÐÐµÐ»Ð°ÑÑÑÐºÐ°Ñ](/be/cfos-charging-manager/documentation/user-defined-meters.htm)

[ÐÑÐ»Ð³Ð°ÑÐ¸Ñ](/bg/cfos-charging-manager/documentation/user-defined-meters.htm)

[Äesky](/cs/cfos-charging-manager/documentation/user-defined-meters.htm)

[Dansk](/da/cfos-charging-manager/documentation/user-defined-meters.htm)

[Deutsch](/de/cfos-charging-manager/documentation/user-defined-meters.htm)

[ÎÎ»Î»Î·Î½Î¹ÎºÎ¬](/el/cfos-charging-manager/documentation/user-defined-meters.htm)

[English](/en/cfos-charging-manager/documentation/user-defined-meters.htm)

[Castellano](/es/cfos-charging-manager/documentation/user-defined-meters.htm)

[ÙØ§Ø±Ø³Û](/fa/cfos-charging-manager/documentation/user-defined-meters.htm)

[Suomi](/fi/cfos-charging-manager/documentation/user-defined-meters.htm)

[FranÃ§ais](/fr/cfos-charging-manager/documentation/user-defined-meters.htm)

[××©×¨×××](/he/cfos-charging-manager/documentation/user-defined-meters.htm)

[à¤¹à¤¿à¤¨à¥à¤¦à¥](/hi/cfos-charging-manager/documentation/user-defined-meters.htm)

[Magyar](/hu/cfos-charging-manager/documentation/user-defined-meters.htm)

[Bahasa Indonesia](/id/cfos-charging-manager/documentation/user-defined-meters.htm)

[Italiano](/it/cfos-charging-manager/documentation/user-defined-meters.htm)

[æ¥æ¬èª](/ja/cfos-charging-manager/documentation/user-defined-meters.htm)

[íêµ­ì´](/ko/cfos-charging-manager/documentation/user-defined-meters.htm)

[Ð¼Ð°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸](/mk/cfos-charging-manager/documentation/user-defined-meters.htm)

[Bahasa Malaysia](/ms-my/cfos-charging-manager/documentation/user-defined-meters.htm)

[Nederlands](/nl/cfos-charging-manager/documentation/user-defined-meters.htm)

[Norsk](/no/cfos-charging-manager/documentation/user-defined-meters.htm)

[Polski](/pl/cfos-charging-manager/documentation/user-defined-meters.htm)

[PortuguÃªs](/pt/cfos-charging-manager/documentation/user-defined-meters.htm)

[RomÃ¢nÄ](/ro/cfos-charging-manager/documentation/user-defined-meters.htm)

[Ð ÑÑÑÐºÐ¸Ð¹](/ru/cfos-charging-manager/documentation/user-defined-meters.htm)

[SlovenÅ¡Äina](/sl/cfos-charging-manager/documentation/user-defined-meters.htm)

[Ð¡ÑÐ¿ÑÐºÐ¸](/sr-cyrl-cs/cfos-charging-manager/documentation/user-defined-meters.htm)

[Svenska](/sv/cfos-charging-manager/documentation/user-defined-meters.htm)

[à¹à¸à¸¢](/th/cfos-charging-manager/documentation/user-defined-meters.htm)

[TÃ¼rkÃ§e](/tr/cfos-charging-manager/documentation/user-defined-meters.htm)

[Ð£ÐºÑÐ°ÑÐ½ÑÑÐºÐ°](/uk/cfos-charging-manager/documentation/user-defined-meters.htm)

[Tiáº¿ng Viá»t](/vi/cfos-charging-manager/documentation/user-defined-meters.htm)

[ç®ä½ä¸­æ](/zh-cn/cfos-charging-manager/documentation/user-defined-meters.htm)

[ç¹é«ä¸­æ](/zh-tw/cfos-charging-manager/documentation/user-defined-meters.htm)

---

Practice random kindness and senseless acts of beauty

![Snigg eMobility GmbH Logo](/images/cfos-emobility-logo.svg)

Cookies
=======

We use cookies. Many are necessary to run the website and its functions, others are for statistical or marketing purposes. By choosing "Accept essential cookies only" we will respect your privacy and not set cookies that are not necessary for the operation of the site.

Accept all Accept essential cookies only

[Privacy Policy](/en/contact/contact.htm#privacy?hide-cookie-banner=yes)