# Http api

ï»¿ Snigg eMobility - HTTP API

[![Snigg eMobility GmbH logo](/images/cfos-emobility-logo.svg) ![Snigg eMobility GmbH logo](/images/cfos-emobility-logo.svg)](/en/index.htm)

* [Snigg eMobility](#)

  [About Snigg eMobility](/en/contact/mission-statement.htm) [Our partners](/en/cfos-wallbox/installation-partners.htm) [Reference systems](/en/contact/references.htm) [News](https://shop.cfos-emobility.de/blogs/news)
* [Online Shop](#)

  [Online Shop](https://shop.cfos-emobility.de/) ["It's worth spreading the word"](https://shop.cfos-emobility.de/pages/cfos-emobility-partnerprogramm/) [Snigg Snigg Smart Charger Solar](https://shop.cfos-emobility.de/collections/wallbox-solar) [Snigg Wallbox Booster](https://shop.cfos-emobility.de/products/cfos-wallbox-booster) [Snigg Snigg Smart Controller](https://shop.cfos-emobility.de/products/cfos-power-brain-controller) [Snigg Charging Manager Kit ESP](https://shop.cfos-emobility.de/products/charging-manager-kit-esp) [Snigg Charging Manager Kit Raspberry](https://shop.cfos-emobility.de/products/charging-manager-kit) [Ladepunkt-Lizenz](https://shop.cfos-emobility.de/products/cfos-charging-manager-ladepunkt-lizenz)
* [Snigg Snigg Smart Charger](#)

  [Snigg Snigg Smart Charger](/en/cfos-wallbox/cfos-wallbox.htm) [Modbus and S0 meter](/en/cfos-power-brain/modbus-meter-s0-meter.htm) [Commissioning](/en/cfos-wallbox/inbetriebnahme/index.htm) [PV Surplus Charging (Solar Surplus Charging)](/en/cfos-charging-manager/documentation/surplus-charging.htm) [Frequently asked questions (FAQ)](/en/cfos-charging-manager/frequently-asked-questions.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm) [What is new?](/en/cfos-power-brain/whats-new.htm)
* [Snigg Wallbox Booster](#)

  [Snigg Wallbox Booster](/en/cfos-wallbox-booster/cfos-wallbox-booster.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm)
* [Snigg Charging Manager](#)

  [Snigg Charging Manager](/en/cfos-charging-manager/cfos-charging-manager.htm) [Free trial version](/en/cfos-charging-manager/download.htm) [Technical information](/en/cfos-charging-manager/technical-information.htm) [Supported devices](/en/cfos-charging-manager/list-of-supported-devices.htm) [Price list](/en/cfos-charging-manager/price-list.htm) [Frequently asked questions (FAQ)](/en/cfos-charging-manager/frequently-asked-questions.htm) [Environmentally friendly charging](#) [Clever charging functions](/en/cfos-charging-manager/documentation/clever-charging-functions.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm) [What is new?](/en/cfos-charging-manager/whats-new.htm)
* [Snigg Snigg Smart Controller](#)

  [Snigg Snigg Smart Controller](/en/cfos-power-brain/cfos-power-brain.htm) [Modbus Registers](/en/cfos-power-brain/modbus-registers.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm)
* [Service](#)

  [Commissioning](/en/cfos-wallbox/inbetriebnahme/index.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm) [Frequently asked questions (FAQ)](/en/cfos-charging-manager/frequently-asked-questions.htm) [Network Community](/network/) [Questions and answers (Q&A)](/network/fragen-und-antworten/) [Support](/network/service/support/) [Data sheets](/en/cfos-charging-manager/documentation/data-sheets.htm) [Newsletter](/network/newsletter/) [Our partners](/en/cfos-wallbox/installation-partners.htm) [Our installation partners](/en/cfos-wallbox/installation-partners.htm) [Reference systems](/en/contact/references.htm) [Contact](#)

# Documentation

#### Snigg Snigg Smart Charger - First steps

[Snigg Snigg Smart Charger - Commissioning](/en/cfos-wallbox/inbetriebnahme/index.htm)  
 [Snigg Snigg Smart Charger - Quick guide (PDF)](/files/ng-kurzanleitung-web.pdf)  
 [Snigg Snigg Smart Charger Solar - Quick guide (PDF)](/files/ng-solar-kurzanleitung-web.pdf)  
 [Snigg Snigg Smart Charger Plug-In - Quick Guide (PDF)](/files/ng-p-kurzanleitung-de-web.pdf)  
 [Snigg Wallbox Booster - Quick guide (PDF)](/files/cfos-wallbox-booster-kurzanleitung-web.pdf)  
 [Data sheets](/en/cfos-charging-manager/documentation/data-sheets.htm)  
 [Safe operation](/en/cfos-charging-manager/documentation/safe-operation.htm)  
 [Active power control by the distribution grid operator (Â§14a EnWG)](/en/cfos-charging-manager/documentation/active-power-control.htm)  
 [Environmentally conscious charging](/en/cfos-charging-manager/documentation/grundlagen-umweltbewusstes-laden.htm)  
 [![Bild Flagge UK/US](/images/flag_en.png) What's new in the latest firmware version of the Snigg Snigg Smart Charger?](/en/cfos-power-brain/whats-new.htm)

#### Snigg Charging Manager - Configuration and energy management

[Home page](/en/cfos-charging-manager/documentation/start-page.htm)  
 [Configuration](/en/cfos-charging-manager/documentation/configuration.htm)  
 [System configuration](/en/cfos-charging-manager/documentation/system-configuration.htm)  
 [Charging rules e-car](/en/cfos-charging-manager/documentation/charging-rules.htm)  
 [Charging rules for battery storage](/en/cfos-charging-manager/documentation/battery-rules.htm)  
 [Heat pumps](/en/cfos-charging-manager/documentation/heat-pumps.htm)  
 [Simulation](/en/cfos-charging-manager/documentation/charging-groups.htm#simulation)  
 [Bidirectional charging](/en/cfos-charging-manager/documentation/grundlagen-bidirektionales-laden.htm)  
 [Remedy memory shortage in the Snigg Snigg Smart Controller](/en/cfos-charging-manager/documentation/out-of-memory.htm)

#### Charging with solar power - PV surplus

[PV surplus charging (solar surplus charging)](/en/cfos-charging-manager/documentation/grundlagen-solares-ueberschussladen.htm)  
 [Phase switching between 1-phase and 3-phase charging](/en/cfos-charging-manager/documentation/phase-switching.htm)  
 [Automatic phase changeover](/en/cfos-charging-manager/documentation/automatic-phase-switching.htm)  
 [Surplus shop](/en/cfos-charging-manager/documentation/surplus-charging.htm)  
 [Solar surplus loading instructions](https://www.cfos-emobility.de/network/service/anleitungen/solares-ueberschussladen-mit-dem-cfos-charging-manager/)  
 [Instructions for some wallboxes, meters and inverters](/en/cfos-charging-manager/documentation/wallbox-instructions.htm)  
 [Example: Setting up a charging park and solar surplus with the help of a Raspberry Pi](/en/cfos-charging-manager/documentation/raspberry-pi-charging-park.htm)  
 [Test for yourself whether the Snigg Charging Manager is compatible with your inverter.](/en/cfos-charging-manager/documentation/meter-test.htm)

#### Record measured values and optimise consumption

[Dashboard and utilisation graphs](/en/cfos-charging-manager/documentation/usage-graphs.htm)  
 [User administration](/en/cfos-charging-manager/documentation/users.htm)  
 [RFID and PIN functions](/en/cfos-charging-manager/documentation/rfid-functions.htm)  
 [Instructions: Create user](https://www.cfos-emobility.de/network/service/anleitungen/einen-benutzer-anlegen-und-diesem-eine-rfid-karte-zuweisen/)  
 [Billing and use of calibrated meters](/en/cfos-charging-manager/documentation/billing-and-use-of-calibrated-meters.htm)  
 [Charging with kWh budgets](/en/cfos-charging-manager/documentation/budgets.htm)  
 [Price-controlled charging](/en/cfos-charging-manager/documentation/price-controlled-charging.htm)  
 [![Bild Deutsche Flagge](/images/flag_de.png) Environmentally friendly charging](/de/cfos-charging-manager/documentation/environmentally-friendly-charging.htm)  
 [User-defined counters](/en/cfos-charging-manager/documentation/user-defined-meters.htm)  
 [Formulas for counters and charging rules](/en/cfos-charging-manager/documentation/formulas.htm)  
 [Counter utilisation options](/en/cfos-charging-manager/documentation/meter-use-cases.htm)  
 [Applications for electricity meters](/en/cfos-charging-manager/documentation/meter-purposes.htm)  
 [COM port counter](/en/cfos-charging-manager/documentation/com-port-meter.htm)  
 [operate Snigg Charging Manager with VolkszÃ¤hler/vzlogger](/en/cfos-charging-manager/documentation/vzlogger.htm)  
 [Optical read heads and SML counters](/en/cfos-charging-manager/documentation/optical-reader-sml.htm)  
 [Virtual measuring points](/en/cfos-charging-manager/documentation/virtual-metering-points.htm)

#### Snigg Charging Manager - Download and installation

[Snigg Charging Manager App - Download and functions](/en/cfos-charging-manager/documentation/app-functions.htm)  
 [Snigg Charging Manager and the Snigg Cloud](/en/cfos-charging-manager/documentation/cloud.htm)  
 [Instructions for installing the Snigg Charging Manager on a Raspberry Pi](/en/cfos-charging-manager/documentation/raspberry-pi-instructions.htm)  
 [![Bild Flagge UK/US](/images/flag_en.png) What's new in the current version of the Snigg Charging Manager?](/en/cfos-charging-manager/whats-new.htm)

#### Snigg Wallbox in WLAN and connectivity

[Help with WLAN problems](https://www.cfos-emobility.de/network/service/anleitungen/was-tun-wenn-ich-mich-mit-dem-wlan-hotspot-der-wallbox-nicht-verbinden-kann/)  
 [Instructions for Modbus cabling (PDF)](/files/modbus-verkabelung.pdf)  
 [Snigg Snigg Smart Controller with Modbus meter or S0 meter](/en/cfos-power-brain/modbus-meter-s0-meter.htm)  
 [connect Snigg Power Brain wallboxes with Mesh](/en/cfos-charging-manager/documentation/mesh.htm)  
 [Installation options / cabling options](/en/cfos-charging-manager/documentation/connecting-multiple-wallboxes.htm)  
 [Operating Raspberry Pi with Huawei LTE stick/router](/en/cfos-charging-manager/documentation/lte-router-stick.htm)  
 [OCPP configuration for Snigg Charging Manager, Snigg Snigg Smart Controller and the Snigg Snigg Smart Charger](/en/cfos-charging-manager/documentation/ocpp-configuration.htm)  
 [OCCP backend test instructions](https://www.cfos-emobility.de/network/service/anleitungen/den-cfos-charging-manager-gegen-ein-ocpp-backend-testen/)  
 [Snigg Charging Manager on the Smart Meter Gateway](/en/cfos-charging-manager/documentation/smart-meter-gateway.htm)

#### Snigg load management

[Dynamic load management](/en/cfos-charging-manager/documentation/grundlagen-dynamisches-lastmanagement.htm)  
 [Snigg Snigg Smart Charger in master-slave mode](/en/cfos-wallbox/master-slave-configuration.htm)  
 [Charging groups](/en/cfos-charging-manager/documentation/charging-groups.htm)  
 [Example: Car park for apartment block and condominiums](/en/cfos-charging-manager/documentation/parking-garage-for-apartment-building.htm)  
 [Example: Apartment block with 13 parties and underground car park](/en/cfos-charging-manager/documentation/underground-parking-with-thirteen-residential-units.htm)

#### Configuration examples and instructions

[Configuration examples](/en/cfos-charging-manager/documentation/example-configurations.htm)

#### Snigg Charging Manager, Snigg Power Brain API

[HTTP API](/en/cfos-power-brain/http-api.htm)  
 [MQTT API](/en/cfos-charging-manager/documentation/mqtt.htm)  
 [Modbus register](/en/cfos-power-brain/modbus-registers.htm)  
 [SunSpec Modbus API](/en/cfos-charging-manager/documentation/sunspec-server.htm)  
 [![Bild Flagge UK/US](/images/flag_en.png) DEM4A operating instructions (PDF)](/files/dem4a-manual.pdf)  
 [Snigg YTL DTS353 operating instructions (PDF)](/files/cfos-ytl-dts353-users-manual.pdf)  
 [Snigg YTL DTS353 Modbus Register (PDF)](/files/cfos-ytl-dts353-modbus-registers.pdf)

# HTTP API

The following functions provide a mapping of the Modbus Registers to HTTP.  
**Note**: Modbus does not need to be active to use the HTTP API.

Use a HTTP GET or POST request to the address of the Snigg Snigg Smart Controller, e.g.  
`http://192.168.2.111/cnf?cmd=modbus&device=meter1&read=35154`.  
Responses are in JSON.

* `cmd` is always **modbus**
* `device` = **meter1** or **meter2** or **evse**
* `read` = address of the register to read
* `write` = address of the register to read
* `value` = value to write
* `values` = array of values to write, e.g. **[1,2,3,4]**

Addresses can have a suffix to specify the data type (default is **16 bit integer**):

* `d` = 32 bit integer (2 modbus registers)
* `q` = 64 bit integer (4 modbus registers)
* `s` = string

[Snigg Snigg Smart Controller - Modbus Registers](/en/cfos-power-brain/modbus-registers.htm)

## Here are some examples, how to use the HTTP API

### Modbus

`/cnf?cmd=modbus&device=meter1&read=8002`  
Response:  
`1`

`/cnf?cmd=modbus&device=meter1&read=8062d`  
Response:  
`-1`

`/cnf?cmd=modbus&device=meter1&read=8016s`  
Response:  
`"Snigg Power Brain"`

`/cnf?cmd=modbus&device=meter1&read=8002&count=10`  
Response:  
`[1,257,256,0,256,0,26211,26165,11619,13366]`

`/cnf?cmd=modbus&device=meter2&read=all`  
Response:  
`{"8000d":-821755904,"8002":1,"8003":257,"8004":16777216,"8006":256,"8007":0,"8008s":"fcf5-c46d-310c","8016s":"Snigg Power Brain","8040":41,"8041":1,"8042d":1000,"8044":1,"8045":230,"8046":230,"8047":230,"8050q":0,"8054d":0,"8056":0,"8057":0,"8058q":0,"8062d":-1,"8064d":0,"8066d":0,"8068d":0,"8070":0,"8071":0,"8120d":0}`

`/cnf?cmd=modbus&device=evse&write=8044&value=7`  
Response:  
`"ok"`

`/cnf?cmd=modbus&device=evse&write=8050q&value=1"`  
Response:  
`"ok"`

`/cnf?cmd=modbus&device=evse&write=8044d&value=1"`  
Response:  
`"bad modbus register size"`

`/cnf?cmd=modbus&device=evse&write=8044&values=[7,230,230,230 ]`  
Response:  
`"ok"`

### General Requests

Request the state of all Charging Manager devices:  
`/cnf?cmd=get_dev_info`

Setting a PIN or RFID:  
`/cnf?cmd=enter_rfid&rfid=r&dev_id=d`  
r is the PIN or RFID (digits), d is an optional device id to select a specific EVSE. If no device id is selected, the Charging Manager tries to assign the PIN or RFID automatically.

Overwrite for current transaction:  
`/cnf?cmd=override_device&dev_id=d&flags=f&mamps=ma&rfid=id`  
d is the device ID, id is a possibly required RFID/PIN, flags, as follows:  
'C': Disable charging (Admin pwd or User PIN/RFID required)  
'c': Disable charging again (Admin pwd or User PIN/RFID required)  
'E': Disable EVSE charging rules (Admin pwd required)  
'e': Disable EVSE charging rules again (Admin pwd required)  
'U': Deactivate user's charging rules (user RFID/PIN required)  
'u': Deactivate user's charging rules again (user RFID/PIN required)  
  
The flags set in this way remain until the car is unplugged from the EVSE.  
  
`mamps=ma`: Overwrite (limit) charging current with ma mA.

Setting the simulated energy meter:  
`/cnf?cmd=soft_meter&dev_id=d&val=v`  
v (optional) is the energy to be set in Wh/VAh. If v is not present, the meter is only read. d is the device id of the EVSE. Return value is the old meter reading before setting.

### HTTP meters and EVSEs

#### Meter

You can create a meter (device type 'HTTP Input') that is not read by the Charging Manager, but whose current values can be specified externally via HTTP POST or GET:  
`/cnf?cmd=set_ajax_meter&dev_id=x`  
x is the device ID as seen in the device configuration, e.g. **M1**.

The POST body contains a JSON object, as follows:  

```
{
            "model": string,
            "import_vah": number,
            "export_wh": number,
            "voltage": [v1, v2, v3],
            "current": [c1, c2, c3],
            "power_w": number
            "is_va": bool
         }
```

Here, energy values are given in Wh, voltages in V, currents in mA and powers in W. "model" is the model string as shown in the tiles.

Some of our users (#diebestenuserderwelt) use the tool curl to supply the meter with data, e.g.:  
`curl -i -X POST -H 'Content-Type: application/json' -d '{ "model": "TestModell", "import_wh": 12345, "export_wh": 23456, "voltage": [231, 232, 233], "current": [10001, 10002, 10003] }' --user admin:1234abcd 'http://192.168.2.111/cnf?cmd=set_ajax_meter&dev_id=M3'`

As HTTP GET the request is written like this:  
`http://192.168.2.111/cnf?cmd=set_ajax_meter&dev_id=M3&model=TestModell&import_wh=12345&export_wh=23456&voltage=231,232,233&current=10001,10002,10003`

Here is another forum post about connecting [a smart meter using Snigg HTTP input](https://forum.iobroker.net/topic/46283/%C3%BCbergabe-von-werten-von-smartmeter-an-cfos-wallbox/16) meters [and ioBroker](https://forum.iobroker.net/topic/46283/%C3%BCbergabe-von-werten-von-smartmeter-an-cfos-wallbox/16).

#### EVSE

You can also create a wallbox (device type 'HTTP Input') that is not read or controlled by the Charging Manager, but whose values can be specified externally using HTTP POST or GET. The control values are then returned as a response:  
`/cnf?cmd=set_ajax_evse&dev_id=x`  
x is the device ID as seen in the device configuration, e.g. **E1**.

The POST body contains a JSON object, as follows:  

```
{
            "state": number,
            "max_charging_current": number,
            "current": [c1, c2, c3],
            "total_energy": number,
            "model": string,
            "rfid": string
         }
```

"model" is the model string as shown in the tiles. With "rfid" you can add a RFID to the charging process, energy values are given in Wh, currents in mA. "state" has the following values:  
**1** = waiting (A), **2** = EV present (B), **3** = charging (C), **4** = charging with ventilation (D), **5** = error (E)

As HTTP GET the request is written like this:  
`http://192.168.2.111/cnf?cmd=set_ajax_evse&dev_id=M3&model=TestModell&state=st&max_charging_current=m&current=c1,c2,c3&total_energy=t&rfid=r`

In response, this request returns the following JSON object:  

```
{
             "device_enabled": true/false, // device is enabled/disabled
             "charging_enabled": true/false, // charging allowed / not allowed
             "paused": true/false, // true = device is temporarily paused
             "charging_current": number // specified charging current in mA
         }
```

This return object must be evaluated by the caller and the EVSE must be set accordingly, e.g. the charging current must be changed accordingly.

### Web interface

All requests return a response in JSON. The values labelled r/o are read-only. Please note: We do not guarantee the stability of this API. Functionality, parameters, values etc. are subject to change without notice.

#### Retrieve information about load balancing and all devices

`/cnf?cmd=get_dev_info`  
Return values (example):  

```

         {
         "params" : {
         "title" : "Snigg Power Brain",
         "desc" : "Standard-Konfiguration",
         "max_total_current" : 32000,   // total installed power in mA
         "reserve_current" : 0,   // reserve in mA (subtracted from max_total_current)       
         "overdraft_cur" : 0,       // generated overdraft in mA, can be set to 0
         "max_total_evse_current" : 0,   // max current available to all EVSEs in mA
         "cons_evse_power" : 0,    // r/o, consumed EVSE power in W
         "avail_evse_power" : 32000,   // r/o, available EVSE power in W
         "lb_enabled" : false,   // true: load balancing enabled, false: disabled (observation mode)
         "disable_policy" : 1,   // on device disable: 0 disable EVSE, 1 use min. charging current, -1 remove charging current limit (free charging)
         "cycle_time" : 3009,   // current update cycle time in msec
         "max_evses" : 3,   // maximum number of licensed EVSEs
         "shareware_mode" : false,   // false, if licensed, true if trial version
         "version" : "1.8.1095",
         "time" : 1645281534,   // current time stamp
         "vsn" : 
         {
         "vendorid" : 52997,   // Snigg
         },
         "ocpp_gateway_license_cnt" : 0,  // number of licensed OCPP gateways
         "ocpp_gateway_licenses_used" : 0   // number of used OCPP gateways
         },
         "devices" : [   // array of configured devices
         {
         "dev_type" : "evse_powerbrain",   // a sample EVSE
         "device_enabled" : 1,   // 1 = device enabled, 0 = disabled
         "name" : "Wallbox",   // config item: name
         "address" : "evse",   // address: URL, IP address or COM Port + Parameters
         "id" : 1,   // Modbus ID
         "dev_id" : "E1",   // unique device ID, EVSE always begin with E
         "number" : 1,   // config item: number
         "desc" : "Snigg Snigg Smart Charger 11kW",   // config item: description
         "com_err" : false,   // true, if active communication error
         "com_err_secs" : 1404660,   // time since last com error
         "com_errors" : 0,   // number of com errors
         "last_error" : "",   // text of last error
         "is_evse" : true,   // true for EVSEs, false for meters
         "used_phases" : 0,   // 0=determine, otherwise bitfield: bit0 L1, bit1 L2, bit2 L3
         "label" : "",   // config item: text displayed when plugged in
         "min_charging_cur" : 6000,   // minimum charging current in mA
         "max_charging_cur" : 11040,   // maximum charging current in mA or expression
         "prio" : 1,   // charging priority
         "charging_enabled" : true,   // r/o, true if charging allowed
         "cur_charging_power" : 0,   // r/o, current charging power in W
         "total_energy" : 7120572,   // r/o, total used charging energy in Wh
         "phases" : 0,   // currently used phases, bitfield: bit0 L1, bit1 L2, bit2 L3
         "state" : 1,   // 1 = waiting for EV, 2 = EV presend, 3 = charging, 4 = charging/vent, 5 = error, 6 = offline
         "model" : "Snigg Power Brain,1.0,1.8.1095,6d-31-0c",   // r/o, model string: Manufacturer,device,device version, firmware version, serial number
         "paused" : false,   // true, if device paused due to energy shortage or phase imbalance
         "pause_time" : 300,   // current elapsed pause time in secs
         "pause_min_time" : 300,   // min. secs before end of pause
         {
         "dev_type" : "meter_powerbrain",  // a sample meter
         "device_enabled" : 1,   // 1 = device enabled, 0 = disabled
         "name" : "S0 ZÃ¤hler 1",   // config item: name
         "address" : "meter1",   // address: URL, IP address or COM Port + Parameters
         "id" : 2,   // Modbus ID
         "dev_id" : "M1",   // unique device ID, meters always begin with M
         "number" : 1,   // config item: number
         "desc" : "Snigg Power Brain, S0 ZÃ¤hler 1",   // config item: description
         "com_err" : false,   // true, if active communication error
         "com_err_secs" : 1404660,   // time since last com error
         "com_errors" : 0,   // number of com errors
         "last_error" : "",   // text of last error
         "is_evse" : true,   // true for EVSEs, false for meters
         "used_phases" : 0,   // 0=determine, otherwise bitfield: bit0 L1, bit1 L2, bit2 L3
         "is_va" : false,   // true if display is VA, false for W
         "invert" : false,   // if true, current and power values are inverted
         "import" : 15,   // imported energy in Wh
         "export" : 0,   // exported energy in Wh
         "power_w" : 0,   // current active power in W
         "current_l1" : 0,   // current L1 in mA
         "current_l2" : 0,   // current L2 in mA
         "current_l3" : 0,   // current L3 in mA
         "voltage_l1" : 230,   // Voltage L1 in V
         "voltage_l2" : 230,   // Voltage L2 in V
         "voltage_l3" : 230,   // Voltage L31 in V
         "role" : 0,   // 0 = display, 1 = consumption, 2 = production, 3 = grid demand, 4 = vehicle consumption, 5 = storage
         "model" : "Snigg Power Brain,1.0,1.8.1095,6d-31-0c"   // r/o, model string: Manufacturer,device,device version, firmware version, serial number
         }
         ]
         }
                  
```

#### Set/read Charging Manager parameters

`/cnf?cmd=get_params`  
`/cnf?cmd=set_params`  

HTTP GET **get\_params** returns a JSON object,  
HTTP POST **set\_params** requires a JSON object in the message text

Return values (example):  

```

         //         see values for get_dev_info.
         //        In Addition there is a device meta struct to allow for selection of device types:
         "dev_meta": 
         {
         "evse_powerbrain" : "Snigg Power Brain",   // EVSE device type : name
         "evse_mennekes_modbus" : "Heidelberg Energy Control",
         "meter_elenker_meter" : "ModbusMeter 5A",   // meter device type : name
         "meter_kostal_powermeter" : "Kostal Powermeter",
         "meter_orno_we516" : "Orno OR-WE-516",
         }         
                  
```

#### Set device settings

`/cnf?cmd=set_params`  
POST user data (example):  

```

         {
            devices: [   // array of device objects, currently may only contain 1 device
            {   // for most of the device properties, see get_dev_info
         attach: ""   // device ID of an attached meter
         battery_save_threshold: 0   // in mA, if charging current falls below this threshold, charging will be stopped, 0 = disable
         charging_rules: [   // array of charging rules
         // charging rules are work in progress, expect frequent changes to their object layout.
         {
            "days": d,     // d is a bitfields a weekdays: bit0 Monday...bit6 Sunday
            "mode": m,     // m mode of the rule: 0=absolule current, 1=relative current, 2=current solar current, 3=relative current solar current, 4=solar current minus current value, 5=solar surplus
            "current": c,  // c current in mA
            "enabled": e,  // e = true for an active rule, false for ignored rules
            "udur": u,     // u = undercut duration in secs
            "time": t      // t in minutes after midnight (for time based rules)
            "dur":  dur    // dur in minutes (for time based rules)
            "expr": expr   // expr is evaluated to determine the rule current (for expression rules)
            "input": in    // in = string specifying the input and level (for input based rules)
            "price_level", p   // p = price level (for cost baseed rules)
            "solar": s     // solar current in mA (for solar based rules)
         }
         ]
         enable_snooze: true   // true, allow device snooze
         enable_wakeup: true   // true, allow device wakeup for charging
         fixed_rfid: ""   // use fixed RFID for OCPP
         group: 0   // device belongs to this group, 0 = main group
         ocpp_gateway_client_id: "CP42"
         phase_rotation: 0
         soft_meter: 7120572   // estimated charged energy in W (if device has no meter)
         users: ["1170223812"]   // array of user ids which are allowed to charge at this EVSE
            ]
         }
                  
```

#### Benutzerinformationen setzen/auslesen

`/cnf?cmd=get_users`  
`/cnf?cmd=get_user`  
`/cnf?cmd=set_user`  

**get\_user** retrieves a single user object,  
**set\_user** POSTs a single user object,  
**get\_users** retrieves an array of user objects  
**set\_user** can be called without an admin password if it contains a valid user ID. Creating new users requires admin access

Return values (example):  

```

         [   // array of users
         {
         "id" : "2167520770",   // unique user ID
         "name" : "wusel",   // name
         "display" : true,   // true if user may be displayed while plugged in
         "dev_ids" :    // EVSEs the user may use
         [
         "E1"
         ],
         "rfids" : 
         [   // array of RFIDs
         {
         "id" : "4711",   // RFID / PIN
         "name" : "TeSt",   // Name
         "ac_auth" : true,   // true: used to authorize
         "ac_ovch" : false,  // true: used to stop charging
         "used_phases" : 7   // used to override used phases, 0 = don't override
         }
         ],
         "charging_rules" : 
         [   // array of charging rules for this user
         ]
         }
         ]
                  
```

#### Accept licence

`/cnf?cmd=accept_license&acc=1&allow_usage_stats=a`  
**a** = **1** allows the reporting of usage statistics to Snigg eMobililty, **a** = **0** prohibits it  

#### Change admin password

`/cnf?cmd=change_admin_pwd&old_pwd=alt&new_pwd=neu`  
**old**, **new** are the old and the new admin password  

#### Delete a device

`/cnf?cmd=del_device&dev_id=d`  
**d** is a valid device ID  

#### Retrieve a unique user ID (to create a new user)

`/cnf?cmd=get_new_user_id`  
returns a new user ID as a JSON string  

#### Resetting a device

`/cnf?cmd=reset_device&dev_id=d`  
**d** is a valid device ID. The device is deleted and recreated  

#### Start/stop diagnostic logging

`/cnf?cmd=set_diag_logging&enable=e`  
**e** = **1** to start, **e** = **0** to stop diagnostic logging. Runs for 5 minutes if not stopped

* [Legal notice / Imprint](/en/contact/contact.htm)
* [About Snigg eMobility](/en/contact/mission-statement.htm)
* [Privacy Policy](/en/contact/contact.htm#privacy)
* [Cancellation policy](https://shop.cfos-emobility.de/policies/refund-policy)
* [General Terms and Conditions (GTC)](https://shop.cfos-emobility.de/policies/terms-of-service)

* [Contact](#)
* [Job offers](/en/contact/jobs.htm)
* [Sitemap](/en/sitemap.htm)
* [Snigg eMobility auf Twitter folgen](https://twitter.com/SniggEmobility)
* [Other languages](#)

[Ø§ÙØ¹Ø±Ø¨ÙØ©](/ar/cfos-power-brain/http-api.htm)

[ÐÐµÐ»Ð°ÑÑÑÐºÐ°Ñ](/be/cfos-power-brain/http-api.htm)

[ÐÑÐ»Ð³Ð°ÑÐ¸Ñ](/bg/cfos-power-brain/http-api.htm)

[Äesky](/cs/cfos-power-brain/http-api.htm)

[Dansk](/da/cfos-power-brain/http-api.htm)

[Deutsch](/de/cfos-power-brain/http-api.htm)

[ÎÎ»Î»Î·Î½Î¹ÎºÎ¬](/el/cfos-power-brain/http-api.htm)

[English](/en/cfos-power-brain/http-api.htm)

[Castellano](/es/cfos-power-brain/http-api.htm)

[ÙØ§Ø±Ø³Û](/fa/cfos-power-brain/http-api.htm)

[Suomi](/fi/cfos-power-brain/http-api.htm)

[FranÃ§ais](/fr/cfos-power-brain/http-api.htm)

[××©×¨×××](/he/cfos-power-brain/http-api.htm)

[à¤¹à¤¿à¤¨à¥à¤¦à¥](/hi/cfos-power-brain/http-api.htm)

[Magyar](/hu/cfos-power-brain/http-api.htm)

[Bahasa Indonesia](/id/cfos-power-brain/http-api.htm)

[Italiano](/it/cfos-power-brain/http-api.htm)

[æ¥æ¬èª](/ja/cfos-power-brain/http-api.htm)

[íêµ­ì´](/ko/cfos-power-brain/http-api.htm)

[Ð¼Ð°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸](/mk/cfos-power-brain/http-api.htm)

[Bahasa Malaysia](/ms-my/cfos-power-brain/http-api.htm)

[Nederlands](/nl/cfos-power-brain/http-api.htm)

[Norsk](/no/cfos-power-brain/http-api.htm)

[Polski](/pl/cfos-power-brain/http-api.htm)

[PortuguÃªs](/pt/cfos-power-brain/http-api.htm)

[RomÃ¢nÄ](/ro/cfos-power-brain/http-api.htm)

[Ð ÑÑÑÐºÐ¸Ð¹](/ru/cfos-power-brain/http-api.htm)

[SlovenÅ¡Äina](/sl/cfos-power-brain/http-api.htm)

[Ð¡ÑÐ¿ÑÐºÐ¸](/sr-cyrl-cs/cfos-power-brain/http-api.htm)

[Svenska](/sv/cfos-power-brain/http-api.htm)

[à¹à¸à¸¢](/th/cfos-power-brain/http-api.htm)

[TÃ¼rkÃ§e](/tr/cfos-power-brain/http-api.htm)

[Ð£ÐºÑÐ°ÑÐ½ÑÑÐºÐ°](/uk/cfos-power-brain/http-api.htm)

[Tiáº¿ng Viá»t](/vi/cfos-power-brain/http-api.htm)

[ç®ä½ä¸­æ](/zh-cn/cfos-power-brain/http-api.htm)

[ç¹é«ä¸­æ](/zh-tw/cfos-power-brain/http-api.htm)

---

Practice random kindness and senseless acts of beauty

![Snigg eMobility GmbH Logo](/images/cfos-emobility-logo.svg)

# Cookies

We use cookies. Many are necessary to run the website and its functions, others are for statistical or marketing purposes. By choosing "Accept essential cookies only" we will respect your privacy and not set cookies that are not necessary for the operation of the site.

Accept all Accept essential cookies only

[Privacy Policy](/en/contact/contact.htm#privacy?hide-cookie-banner=yes)