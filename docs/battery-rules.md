[![Snigg eMobility GmbH logo](/images/cfos-emobility-logo.svg) ![Snigg eMobility GmbH logo](/images/cfos-emobility-logo.svg)](/en/index.htm)

* [Snigg eMobility](#)

  [About Snigg eMobility](/en/contact/mission-statement.htm) [Our partners](/en/cfos-wallbox/installation-partners.htm) [Reference systems](/en/contact/references.htm) [News](https://shop.cfos-emobility.de/blogs/news)
* [Online Shop](#)

  [Online Shop](https://shop.cfos-emobility.de/) ["It's worth spreading the word"](https://shop.cfos-emobility.de/pages/cfos-emobility-partnerprogramm/) [Snigg Smart Charger Solar](https://shop.cfos-emobility.de/collections/wallbox-solar) [Snigg Smart Charger Booster](https://shop.cfos-emobility.de/products/cfos-wallbox-booster) [Snigg Smart Controller](https://shop.cfos-emobility.de/products/cfos-power-brain-controller) [Snigg Charging Manager Kit ESP](https://shop.cfos-emobility.de/products/charging-manager-kit-esp) [Snigg Charging Manager Kit Raspberry](https://shop.cfos-emobility.de/products/charging-manager-kit) [Ladepunkt-Lizenz](https://shop.cfos-emobility.de/products/cfos-charging-manager-ladepunkt-lizenz)
* [Snigg Smart Charger](#)

  [Snigg Smart Charger](/en/cfos-wallbox/cfos-wallbox.htm) [Modbus and S0 meter](/en/cfos-power-brain/modbus-meter-s0-meter.htm) [Commissioning](/en/cfos-wallbox/inbetriebnahme/index.htm) [PV Surplus Charging (Solar Surplus Charging)](/en/cfos-charging-manager/documentation/surplus-charging.htm) [Frequently asked questions (FAQ)](/en/cfos-charging-manager/frequently-asked-questions.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm) [What is new?](/en/cfos-power-brain/whats-new.htm)
* [Snigg Smart Charger Booster](#)

  [Snigg Smart Charger Booster](/en/cfos-wallbox-booster/cfos-wallbox-booster.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm)
* [Snigg Charging Manager](#)

  [Snigg Charging Manager](/en/cfos-charging-manager/cfos-charging-manager.htm) [Free trial version](/en/cfos-charging-manager/download.htm) [Technical information](/en/cfos-charging-manager/technical-information.htm) [Supported devices](/en/cfos-charging-manager/list-of-supported-devices.htm) [Price list](/en/cfos-charging-manager/price-list.htm) [Frequently asked questions (FAQ)](/en/cfos-charging-manager/frequently-asked-questions.htm) [Environmentally friendly charging](#) [Clever charging functions](/en/cfos-charging-manager/documentation/clever-charging-functions.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm) [What is new?](/en/cfos-charging-manager/whats-new.htm)
* [Snigg Smart Controller](#)

  [Snigg Smart Controller](/en/cfos-power-brain/cfos-power-brain.htm) [Modbus Registers](/en/cfos-power-brain/modbus-registers.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm)
* [Service](#)

  [Commissioning](/en/cfos-wallbox/inbetriebnahme/index.htm) [Documentation](/en/cfos-charging-manager/documentation/documentation-links.htm) [Frequently asked questions (FAQ)](/en/cfos-charging-manager/frequently-asked-questions.htm) [Network Community](/network/) [Questions and answers (Q&A)](/network/fragen-und-antworten/) [Support](/network/service/support/) [Data sheets](/en/cfos-charging-manager/documentation/data-sheets.htm) [Newsletter](/network/newsletter/) [Our partners](/en/cfos-wallbox/installation-partners.htm) [Our installation partners](/en/cfos-wallbox/installation-partners.htm) [Reference systems](/en/contact/references.htm) [Contact](#)

Documentation
=============

#### Snigg Smart Charger - First steps

[Snigg Smart Charger - Commissioning](/en/cfos-wallbox/inbetriebnahme/index.htm)  
 [Snigg Smart Charger - Quick guide (PDF)](/files/ng-kurzanleitung-web.pdf)  
 [Snigg Smart Charger Solar - Quick guide (PDF)](/files/ng-solar-kurzanleitung-web.pdf)  
 [Snigg Smart Charger Plug-In - Quick Guide (PDF)](/files/ng-p-kurzanleitung-de-web.pdf)  
 [Snigg Smart Charger Booster - Quick guide (PDF)](/files/cfos-wallbox-booster-kurzanleitung-web.pdf)  
 [Data sheets](/en/cfos-charging-manager/documentation/data-sheets.htm)  
 [Safe operation](/en/cfos-charging-manager/documentation/safe-operation.htm)  
 [Active power control by the distribution grid operator (Â§14a EnWG)](/en/cfos-charging-manager/documentation/active-power-control.htm)  
 [Environmentally conscious charging](/en/cfos-charging-manager/documentation/grundlagen-umweltbewusstes-laden.htm)  
 [![Bild Flagge UK/US](/images/flag_en.png) What's new in the latest firmware version of the Snigg Smart Charger?](/en/cfos-power-brain/whats-new.htm)

#### Snigg Charging Manager - Configuration and energy management

[Home page](/en/cfos-charging-manager/documentation/start-page.htm)  
 [Configuration](/en/cfos-charging-manager/documentation/configuration.htm)  
 [System configuration](/en/cfos-charging-manager/documentation/system-configuration.htm)  
 [Charging rules e-car](/en/cfos-charging-manager/documentation/charging-rules.htm)  
 [Charging rules for battery storage](/en/cfos-charging-manager/documentation/battery-rules.htm)  
 [Heat pumps](/en/cfos-charging-manager/documentation/heat-pumps.htm)  
 [Simulation](/en/cfos-charging-manager/documentation/charging-groups.htm#simulation)  
 [Bidirectional charging](/en/cfos-charging-manager/documentation/grundlagen-bidirektionales-laden.htm)  
 [Remedy memory shortage in the Snigg Smart Controller](/en/cfos-charging-manager/documentation/out-of-memory.htm)

#### Charging with solar power - PV surplus

[PV surplus charging (solar surplus charging)](/en/cfos-charging-manager/documentation/grundlagen-solares-ueberschussladen.htm)  
 [Phase switching between 1-phase and 3-phase charging](/en/cfos-charging-manager/documentation/phase-switching.htm)  
 [Automatic phase changeover](/en/cfos-charging-manager/documentation/automatic-phase-switching.htm)  
 [Surplus shop](/en/cfos-charging-manager/documentation/surplus-charging.htm)  
 [Solar surplus loading instructions](https://www.snigg.be/network/service/anleitungen/solares-ueberschussladen-mit-dem-cfos-charging-manager/)  
 [Instructions for some wallboxes, meters and inverters](/en/cfos-charging-manager/documentation/wallbox-instructions.htm)  
 [Example: Setting up a charging park and solar surplus with the help of a Raspberry Pi](/en/cfos-charging-manager/documentation/raspberry-pi-charging-park.htm)  
 [Test for yourself whether the Snigg Charging Manager is compatible with your inverter.](/en/cfos-charging-manager/documentation/meter-test.htm)

#### Record measured values and optimise consumption

[Dashboard and utilisation graphs](/en/cfos-charging-manager/documentation/usage-graphs.htm)  
 [User administration](/en/cfos-charging-manager/documentation/users.htm)  
 [RFID and PIN functions](/en/cfos-charging-manager/documentation/rfid-functions.htm)  
 [Instructions: Create user](https://www.snigg.be/network/service/anleitungen/einen-benutzer-anlegen-und-diesem-eine-rfid-karte-zuweisen/)  
 [Billing and use of calibrated meters](/en/cfos-charging-manager/documentation/billing-and-use-of-calibrated-meters.htm)  
 [Charging with kWh budgets](/en/cfos-charging-manager/documentation/budgets.htm)  
 [Price-controlled charging](/en/cfos-charging-manager/documentation/price-controlled-charging.htm)  
 [![Bild Deutsche Flagge](/images/flag_de.png) Environmentally friendly charging](/de/cfos-charging-manager/documentation/environmentally-friendly-charging.htm)  
 [User-defined counters](/en/cfos-charging-manager/documentation/user-defined-meters.htm)  
 [Formulas for counters and charging rules](/en/cfos-charging-manager/documentation/formulas.htm)  
 [Counter utilisation options](/en/cfos-charging-manager/documentation/meter-use-cases.htm)  
 [Applications for electricity meters](/en/cfos-charging-manager/documentation/meter-purposes.htm)  
 [COM port counter](/en/cfos-charging-manager/documentation/com-port-meter.htm)  
 [operate Snigg Charging Manager with VolkszÃ¤hler/vzlogger](/en/cfos-charging-manager/documentation/vzlogger.htm)  
 [Optical read heads and SML counters](/en/cfos-charging-manager/documentation/optical-reader-sml.htm)  
 [Virtual measuring points](/en/cfos-charging-manager/documentation/virtual-metering-points.htm)

#### Snigg Charging Manager - Download and installation

[Snigg Charging Manager App - Download and functions](/en/cfos-charging-manager/documentation/app-functions.htm)  
 [Snigg Charging Manager and the Snigg Cloud](/en/cfos-charging-manager/documentation/cloud.htm)  
 [Instructions for installing the Snigg Charging Manager on a Raspberry Pi](/en/cfos-charging-manager/documentation/raspberry-pi-instructions.htm)  
 [![Bild Flagge UK/US](/images/flag_en.png) What's new in the current version of the Snigg Charging Manager?](/en/cfos-charging-manager/whats-new.htm)

#### Snigg Smart Charger in WLAN and connectivity

[Help with WLAN problems](https://www.snigg.be/network/service/anleitungen/was-tun-wenn-ich-mich-mit-dem-wlan-hotspot-der-wallbox-nicht-verbinden-kann/)  
 [Instructions for Modbus cabling (PDF)](/files/modbus-verkabelung.pdf)  
 [Snigg Smart Controller with Modbus meter or S0 meter](/en/cfos-power-brain/modbus-meter-s0-meter.htm)  
 [connect Snigg Smart Controller wallboxes with Mesh](/en/cfos-charging-manager/documentation/mesh.htm)  
 [Installation options / cabling options](/en/cfos-charging-manager/documentation/connecting-multiple-wallboxes.htm)  
 [Operating Raspberry Pi with Huawei LTE stick/router](/en/cfos-charging-manager/documentation/lte-router-stick.htm)  
 [OCPP configuration for Snigg Charging Manager, Snigg Smart Controller and the Snigg Smart Charger](/en/cfos-charging-manager/documentation/ocpp-configuration.htm)  
 [OCCP backend test instructions](https://www.snigg.be/network/service/anleitungen/den-cfos-charging-manager-gegen-ein-ocpp-backend-testen/)  
 [Snigg Charging Manager on the Smart Meter Gateway](/en/cfos-charging-manager/documentation/smart-meter-gateway.htm)

#### Snigg load management

[Dynamic load management](/en/cfos-charging-manager/documentation/grundlagen-dynamisches-lastmanagement.htm)  
 [Snigg Smart Charger in master-slave mode](/en/cfos-wallbox/master-slave-configuration.htm)  
 [Charging groups](/en/cfos-charging-manager/documentation/charging-groups.htm)  
 [Example: Car park for apartment block and condominiums](/en/cfos-charging-manager/documentation/parking-garage-for-apartment-building.htm)  
 [Example: Apartment block with 13 parties and underground car park](/en/cfos-charging-manager/documentation/underground-parking-with-thirteen-residential-units.htm)

#### Configuration examples and instructions

[Configuration examples](/en/cfos-charging-manager/documentation/example-configurations.htm)

#### Snigg Charging Manager, Snigg Smart Controller API

[HTTP API](/en/cfos-power-brain/http-api.htm)  
 [MQTT API](/en/cfos-charging-manager/documentation/mqtt.htm)  
 [Modbus register](/en/cfos-power-brain/modbus-registers.htm)  
 [SunSpec Modbus API](/en/cfos-charging-manager/documentation/sunspec-server.htm)  
 [![Bild Flagge UK/US](/images/flag_en.png) DEM4A operating instructions (PDF)](/files/dem4a-manual.pdf)  
 [Snigg YTL DTS353 operating instructions (PDF)](/files/cfos-ytl-dts353-users-manual.pdf)  
 [Snigg YTL DTS353 Modbus Register (PDF)](/files/cfos-ytl-dts353-modbus-registers.pdf)

Control of the battery storage (for firmware versions from 1.25.2)
==================================================================

### The documentation for controlling the battery storage for firmware versions **< 1.25.2** can be found [here](/en/cfos-charging-manager/documentation/battery-rules-old.htm).

Most battery storage systems that are installed in conjunction with solar power systems have an in-built charging rule according to which they attempt to charge before electricity is fed in and attempt to discharge before electricity is drawn from the grid. Industrial storage systems can be controlled according to other criteria, e.g. to limit peak loads or to limit energy consumption during peak load windows according to the grid operator's specifications. Small battery storage systems would undergo deep charging cycles due to the charging of the electric car and would therefore be subject to high wear and tear. It therefore makes sense in many cases to control the storage system using the Snigg Charging Manager. To do this, you need a model that is controllable or at least a switching option via a relay.

Storage systems can be controlled as part of SunSpec battery model 124 (e.g. Fronius) or have their own Modbus registers that allow control. Hybrid devices serve as inverters for solar panels and storage systems. Inverters, meters and battery storage are created as meter tiles in the Snigg Charging Manager. It is therefore possible to activate battery control in all meters. For SunSpec devices with model 124, the Snigg Charging Manager attempts to control the associated storage system. You may need to enable this in the device first. For user-defined meters (Victron, etc.), the Snigg Charging Manager attempts to find a user-defined variable called "soc" (in per cent). This may then be displayed in the meter tile.

Under battery storage control, you can first specify the maximum charging and discharging power. -1 means that the Charging Manager should not control the charging or discharging power. You can then define several charging rules that are processed one after the other every few seconds and limit the charging or discharging current. The charging rules work in a similar way to the [charging rules for wallboxes](/en/cfos-charging-manager/documentation/charging-rules.htm). The Snigg Charging Manager uses the maximum charging or discharging power as the start value, i.e. the control value, and allows this to be changed by processing the charging rules.

After all charging rules have been processed, there is a current limit (which can also be 0) for the charging or discharging power. The Snigg Charging Manager stores these values in the user-defined variables called "charge\_power\_w", "charge\_power\_prc" (specified in per cent), "discharg\_power\_w" and "discharge\_power\_prc". There is also a user-defined variable called "bat\_mode". Here it is recorded whether there is a charge limit or discharge limit (0=no values, 1=charge limit, 2=discharge limit, 3=charge and discharge limit). The limits are converted for SunSpec devices and written to the registers provided for this purpose. For user-defined counters, you can create user-defined outputs that write the values of the above variables to the device. You can find examples of this in the supplied meter definitions for Victron or Kostal Plenticore. If the charge or discharge limit is not controlled, the respective variables do not exist so that they are not written to the memory. With the "Mode" setting of the battery storage control, you determine what should happen if there are positive values for both charging and discharging power. "Neutral" means that the Snigg Charging Manager transfers both values to the storage system, which then decides what to do within a certain range. "Prioritise charging" means that the discharging power is set to 0 if the charging power is positive, "Prioritise discharging" means that the (charging) power is set to 0 if the discharging power is positive. This is useful if the storage tank only has one value for charging and discharging power. If the charging or discharging power is less than 0, the user-defined variables are deleted. You should take this into account when creating customised meter definitions. This is the case, for example, if you have specified -1 as the maximum charging or discharging power, or if your charging rules result in negative values. For example, you can create meter definitions that only have a controlling effect on the battery storage if the corresponding variables exist`(if exist(charge_power_w).`..).

Switching output: Unfortunately, some memories cannot be controlled directly with the above rules. However, in order to at least be able to deactivate the storage tank with the above rules (e.g. when a car is charging), you can try to use a switching contact if the storage tank has a control input. If practicable, you could also disconnect the storage tank electrically from the mains using a contactor (to avoid destroying the storage tank, you must ask the manufacturer or electrician beforehand whether the device is suitable for this). In the "Switching output" field, you can specify the name of a variable that is set to 1 if the charging or discharging power is positive after analysing the charging rules and to 0 if it is not. The Snigg Charging Manager provides a counter definition for a Shelly switch box or switch socket. When you set this up, the meter is given a device ID, e.g. M5. You can then specify the Shelly switch box under "Switching output" in the battery storage control unit using: `M5.output1`. If you prefix the variable name with a minus sign, the switching output is inverted`(-M5.output1`)

* [Legal notice / Imprint](/en/contact/contact.htm)
* [About Snigg eMobility](/en/contact/mission-statement.htm)
* [Privacy Policy](/en/contact/contact.htm#privacy)
* [Cancellation policy](https://shop.cfos-emobility.de/policies/refund-policy)
* [General Terms and Conditions (GTC)](https://shop.cfos-emobility.de/policies/terms-of-service)

* [Contact](#)
* [Job offers](/en/contact/jobs.htm)
* [Sitemap](/en/sitemap.htm)
* [Snigg eMobility auf Twitter folgen](https://twitter.com/SniggEmobility)
* [Other languages](#)

[Ø§ÙØ¹Ø±Ø¨ÙØ©](/ar/cfos-charging-manager/documentation/battery-rules.htm)

[ÐÐµÐ»Ð°ÑÑÑÐºÐ°Ñ](/be/cfos-charging-manager/documentation/battery-rules.htm)

[ÐÑÐ»Ð³Ð°ÑÐ¸Ñ](/bg/cfos-charging-manager/documentation/battery-rules.htm)

[Äesky](/cs/cfos-charging-manager/documentation/battery-rules.htm)

[Dansk](/da/cfos-charging-manager/documentation/battery-rules.htm)

[Deutsch](/de/cfos-charging-manager/documentation/battery-rules.htm)

[ÎÎ»Î»Î·Î½Î¹ÎºÎ¬](/el/cfos-charging-manager/documentation/battery-rules.htm)

[English](/en/cfos-charging-manager/documentation/battery-rules.htm)

[Castellano](/es/cfos-charging-manager/documentation/battery-rules.htm)

[ÙØ§Ø±Ø³Û](/fa/cfos-charging-manager/documentation/battery-rules.htm)

[Suomi](/fi/cfos-charging-manager/documentation/battery-rules.htm)

[FranÃ§ais](/fr/cfos-charging-manager/documentation/battery-rules.htm)

[××©×¨×××](/he/cfos-charging-manager/documentation/battery-rules.htm)

[à¤¹à¤¿à¤¨à¥à¤¦à¥](/hi/cfos-charging-manager/documentation/battery-rules.htm)

[Magyar](/hu/cfos-charging-manager/documentation/battery-rules.htm)

[Bahasa Indonesia](/id/cfos-charging-manager/documentation/battery-rules.htm)

[Italiano](/it/cfos-charging-manager/documentation/battery-rules.htm)

[æ¥æ¬èª](/ja/cfos-charging-manager/documentation/battery-rules.htm)

[íêµ­ì´](/ko/cfos-charging-manager/documentation/battery-rules.htm)

[Ð¼Ð°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸](/mk/cfos-charging-manager/documentation/battery-rules.htm)

[Bahasa Malaysia](/ms-my/cfos-charging-manager/documentation/battery-rules.htm)

[Nederlands](/nl/cfos-charging-manager/documentation/battery-rules.htm)

[Norsk](/no/cfos-charging-manager/documentation/battery-rules.htm)

[Polski](/pl/cfos-charging-manager/documentation/battery-rules.htm)

[PortuguÃªs](/pt/cfos-charging-manager/documentation/battery-rules.htm)

[RomÃ¢nÄ](/ro/cfos-charging-manager/documentation/battery-rules.htm)

[Ð ÑÑÑÐºÐ¸Ð¹](/ru/cfos-charging-manager/documentation/battery-rules.htm)

[SlovenÅ¡Äina](/sl/cfos-charging-manager/documentation/battery-rules.htm)

[Ð¡ÑÐ¿ÑÐºÐ¸](/sr-cyrl-cs/cfos-charging-manager/documentation/battery-rules.htm)

[Svenska](/sv/cfos-charging-manager/documentation/battery-rules.htm)

[à¹à¸à¸¢](/th/cfos-charging-manager/documentation/battery-rules.htm)

[TÃ¼rkÃ§e](/tr/cfos-charging-manager/documentation/battery-rules.htm)

[Ð£ÐºÑÐ°ÑÐ½ÑÑÐºÐ°](/uk/cfos-charging-manager/documentation/battery-rules.htm)

[Tiáº¿ng Viá»t](/vi/cfos-charging-manager/documentation/battery-rules.htm)

[ç®ä½ä¸­æ](/zh-cn/cfos-charging-manager/documentation/battery-rules.htm)

[ç¹é«ä¸­æ](/zh-tw/cfos-charging-manager/documentation/battery-rules.htm)

---

Practice random kindness and senseless acts of beauty

![Snigg eMobility GmbH Logo](/images/cfos-emobility-logo.svg)

Cookies
=======

We use cookies. Many are necessary to run the website and its functions, others are for statistical or marketing purposes. By choosing "Accept essential cookies only" we will respect your privacy and not set cookies that are not necessary for the operation of the site.

Accept all Accept essential cookies only

[Privacy Policy](/en/contact/contact.htm#privacy?hide-cookie-banner=yes)